<!DOCTYPE html>
<html>
<head>
	<title>Leaflet Layers Control Example</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">


	<!-- Stylesheets
    ================================================== -->
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/cover.css">
	<link rel="stylesheet" href="css/leaflet_mapbbcode.css">
    <!--<link rel="stylesheet" href="css/style.css">-->
    <link rel="stylesheet" href="css/overrides.css">
    
    
    
    <!-- Scripts
    ================================================== -->
    <script src="js/leaflet.js"></script>
    
    <!--<script src="js/rivers_TEMP.js" type="text/javascript"></script>-->
    <script src="js/bioregions_TEMP.js" type="text/javascript"></script>
    <script src="js/layerlist.js"></script>
    
    
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/docs.min.js"></script>
    


</head>





<body>


	
    <!-- Full page map -->
	<div id="map">
    
  
    
    
  	<nav class="navbar navbar-default" role="navigation">
  	<div class="container-fluid">
    	<!-- Brand and toggle get grouped for better mobile display -->
   	 	<div class="navbar-header">
      		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        	<span class="sr-only">Toggle navigation</span>
        	<span class="icon-bar"></span>
        	<span class="icon-bar"></span>
        	<span class="icon-bar"></span>
      		</button>
      	<a class="navbar-brand" href="#">Brand Here</a>
    	</div>

	<!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      	<ul class="nav navbar-nav">
        	<li class="active"><a href="#">Link</a></li>
        	<li><a href="#">Link</a></li>
        	<li class="dropdown">
          		<a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
        		<ul class="dropdown-menu">
            		<li><a href="#">Action</a></li>
            		<li><a href="#">Another action</a></li>
            		<li><a href="#">Something else here</a></li>
            		<li class="divider"></li>
            		<li><a href="#">Separated link</a></li>
            		<li class="divider"></li>
            		<li><a href="#">One more separated link</a></li>
          		</ul>
    		</li>
    	</ul>
      <form class="navbar-form navbar-left" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#">Link</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="#">Action</a></li>
            <li><a href="#">Another action</a></li>
            <li><a href="#">Something else here</a></li>
            <li class="divider"></li>
            <li><a href="#">Separated link</a></li>
          </ul>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>



		<!-- Temp pulldown with tile options -->
		<div class="well" id="tile-select">
			<select size="1" id="llselect">
			<input type="button" id="lladd" value="Show layer">            
       	</div><!-- /.well -->
        
        
        <div class="well">
			<div class="btn-group btn-group-sm">
            	<button type="button" class="btn btn-default">Bioregions</button>
  				<button type="button" class="btn btn-default">Rivers</button>
           	</div>
       	</div><!-- /.well -->
        
        
        <div class="panel panel-primary">
  			<div class="panel-heading">Category 1</div>
  			<div class="panel-body">
            	<div class="form-group">
      				<label for="select">Sub-Heading?</label>
      				<select multiple class="form-control">
 						<option>Bioregions</option>
  						<option>Rivers</option>
  						<option>Etc</option>
  						<option>4</option>
  						<option>5</option>
					</select>
    			</div>
                <button type="button" class="btn btn-primary btn-sm">Submit</button>

  			</div><!-- /.panel-body -->
		</div><!-- /.panel -->
        


		<div class="panel panel-success">
  			<div class="panel-heading">Category 2</div>
  			<div class="panel-body">
            	<form class="form-horizontal">
  					<fieldset>
                    	<div class="form-group">
      						<label class="col-sm-2 control-label">Radios</label>
      						<div class="col-sm-10">
        						<div class="radio">
          						<label>
          							<input type="radio" name="optionsRadios" id="optionsRadios1" value="option1" checked="">
            						Option one is this
          						</label>
        						</div>
        						<div class="radio">
          						<label>
            						<input type="radio" name="optionsRadios" id="optionsRadios2" value="option2">
            						Option two is this
          						</label>
        						</div>
      						</div>
    					</div>
    <div class="form-group">
      <label for="select" class="col-sm-2 control-label">Selects</label>
      <div class="col-sm-10">
        <select class="form-control" id="select">
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
        </select>
        
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-10 col-lg-offset-2">
      	<div class="btn-group btn-group-xs">
        	<button class="btn btn-default">Cancel</button>
        	<button type="submit" class="btn btn-primary">Submit</button>
        </div>
      </div>
    </div>
    
    
    
    
  </fieldset>
</form>

  			</div><!-- /.panel-body -->
		</div><!-- /.panel -->




	<div class="panel panel-info">
    	<div class="panel-heading">Category 3</div>
  			<div class="panel-body">
            	<form role="form">
  					<div class="form-group">
    					<label for="exampleInputFile">here's another heading</label>
    					<div class="checkbox">
    						<label>
      						<input type="checkbox"> Check me out
    						</label>
 						</div>
  						<button type="submit" class="btn btn-default btn-xs">Submit</button>
				</form>
            
       	</div><!-- /.panel-body -->
   	</div><!-- /.panel -->
    
    
    </div><!-- /#map -->

	

	<script>
	
	function bioregionStyle(feature) {
		return {weight: 1.2, opacity: 1, color: "#DF5A49", fillOpacity: 0.6, fillColor: "#E27A3F"};
	}
	
	function riverStyle(feature) {
		return {weight: 2, opacity: 1, color: "#2BACB5"};
	}
	
	
	function createMap(div, coords) {
    	var map = L.map(div, { scrollWheelZoom: false }).setView([52, -115], 3);
    	map.addLayer(window.layerList.getLeafletLayer('OpenStreetMap'));
    	return map;
	}
	
	
	function onEachFeature(feature, layer) {
		var popupContent = "<p>Bioregion:&nbsp;" + feature.properties.Name + "</p>"
		
		if (feature.properties && feature.properties.popupContent) {
			popupContent += feature.properties.popupContent;
		}
		
		layer.bindPopup(popupContent);
	}



	var map = createMap('map');


	var sel = document.getElementById('llselect');
	var layerKeys = window.layerList.getSortedKeys();

	for( var i = 0; i < layerKeys.length; i++ ) {
    	if( !window.layerList.requiresKey(layerKeys[i]) ) {
        	var opt = document.createElement('option');
        	opt.innerHTML = opt.value = layerKeys[i];
        	sel.appendChild(opt);
    	}
	}



	<!-- Add the geojson bioregions data -->
	bioregion = L.geoJson(bioregion, {
		style: bioregionStyle,
		filter: function (feature, layer) {
			if (feature.properties) {
				// If the property "underConstruction" exists and is true, return false (don't render features under construction)
				return feature.properties.underConstruction !== undefined ? !feature.properties.underConstruction : true;
			}
			return false;
			},
			onEachFeature: onEachFeature
		}).addTo(map);
		
		
	<!-- Add the geojson rivers data -->
//	rivers = L.geoJson(rivers, {
//		style: riverStyle,
//		filter: function (feature, layer) {
//			if (feature.properties) {
//				// If the property "underConstruction" exists and is true, return false (don't render features under construction)
//				return feature.properties.underConstruction !== undefined ? !feature.properties.underConstruction : true;
//			}
//			return false;
//			}
//			//onEachFeature: onEachFeature
//		}).addTo(map);
		
		
	
	L.DomEvent.on(document.getElementById('lladd'), 'click', function() {
		map.eachLayer(function(layer) {
			map.removeLayer(layer);
			map.removeLayer(bioregion);
			<!--map.removeLayer(rivers);-->
		});
    		map.addLayer(window.layerList.getLeafletLayer(sel.value));
			map.addLayer(bioregion);
			<!--map.addLayer(rivers);-->
		});
		

		//bioregions.bringToFront();




		
		
		

	</script>
</body>
</html>

